<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <title>입력 양식 입력 핸들링</title>

</head>
<body>

        <!-- v-model : 입력 양식의 값 또는 선택 값을 데이터와 동기화 하는 양방향 데이터 바인딩 실시 시 사용 
            v-model 디렉티브는 ‘DOM 요소에 적용한 데이터 바인당과 ‘요소에서
            추출한 데이터를 리액티브 데이터로 반영하는 처리를 자동화해 주는 구문입니다.

            v-model 디렉티브롤 사용하면, 속성으로 설정한 값은 사용되지 않습니다. 입력 양식의 값이나 선택되어
            있는 것은 항상 v-model에 바인딩한 것과 동기화됩니다. 따라서 value. checked. selected를 설정해도
            이러한 속성은 모두 무시됩니다.
        -->


        <div id="app">      
            <!-- 이미지 파일 
                파일 타입은 v-model 사용불가. 리액티브 데이터와 동기화를 위해서 change 이벤트 바인딩
            -->

            <input type="file" @change="handleChange">
            <div v-if="preview"><img v-bind:src="preview"></div>
            
            

        </div>    

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10"></script>
    <script>
        new Vue ({
            el : '#app',
            //리액티브 데이터
            data : { 
                preview : '',
            },
            methods : { 
                handleChange : function(event){
                    var file = event.target.files[0]

                    if(file && file.type.match(/^image\/(png|jpeg)$/)){
                        this.preview = window.URL.createObjectURL(file);
                        console.log("preview : " , this.preview); 
                        // blob:null/fd6f7aac-b20b-45bf-aff1-ec3a67e701c8
                    }

                }
            }
        })
    </script>
</body>
</html>

